<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<f:view locale="#{idiomaBean.locale}">
	<h:head>
		<title>#{msg.libreria} - #{msg.pagina_insertarEditorial}</title>
		<h:outputStylesheet library="css" name="estilos.css">
		</h:outputStylesheet>
		<script type="text/javascript">
			function chngImg(obj, loc, over) {
				var cSrc = obj.src;
				var pre = cSrc.substr(0, cSrc.lastIndexOf('/')+1);
				var imgURL = cSrc.substr(cSrc.lastIndexOf('/') + 1);
				if (!imgURL.contains(loc)) {
					if (over)
						obj.src = pre+imgURL.replace("1", "2");
					else
						obj.src = pre+imgURL.replace("2", "1");
				}
			}
		</script>
	</h:head>
	<body>
		#{libreriaBean.inicializa()}

		<div id="wraper">
			<header>
			<h1>#{msg.pagina_insertarEditorial}</h1>
				<div id="idioma">
				<h:form>
					<h:commandLink action="#{idiomaBean.cambiarIdioma('es')}">
						<h:graphicImage value="#{idiomaBean.getLocaleImgURL('es',false)}"
							onmouseover="chngImg(this,#{idiomaBean.getLocale4JS()},true)"
							onmouseout="chngImg(this,#{idiomaBean.getLocale4JS()},false)" />
						<f:ajax render="@all"></f:ajax>

					</h:commandLink>

					<h:commandLink action="#{idiomaBean.cambiarIdioma('en')}">
						<h:graphicImage value="#{idiomaBean.getLocaleImgURL('en',false)}"
							onmouseover="chngImg(this,#{idiomaBean.getLocale4JS()},true)"
							onmouseout="chngImg(this,#{idiomaBean.getLocale4JS()},false)" />
						<f:ajax render="@all"></f:ajax>

					</h:commandLink>

					<h:commandLink action="#{idiomaBean.cambiarIdioma('eu')}">
						<h:graphicImage value="#{idiomaBean.getLocaleImgURL('eu',false)}"
							onmouseover="chngImg(this,#{idiomaBean.getLocale4JS()},true)"
							onmouseout="chngImg(this,#{idiomaBean.getLocale4JS()},false)" />
						<f:ajax render="@all"></f:ajax>
					</h:commandLink>
				</h:form>
			</div>
			</header>
			<aside> <h:form>
				<ul class="menu">
					<li class="menu"><p>#{msg.menu_libro}</p>
						<ul>
							<li class="submenu"><h:commandLink action="altaLibro" redirect="true">#{msg.menu_nuevo_libro} </h:commandLink></li>
							<li class="submenu"><h:commandLink action="consultaLibro" redirect="true">#{msg.menu_consultar_libro}</h:commandLink></li>
						</ul></li>
					<li class="menu"><p>#{msg.menu_autor}</p>
						<ul class="menu">
							<li class="submenu"><h:commandLink action="altaAutor" redirect="true">#{msg.menu_nuevo_autor}</h:commandLink></li>
							<li class="submenu"><h:commandLink action="consultaAutor" redirect="true">#{msg.menu_consultar_autor}</h:commandLink></li>


						</ul></li>


					<li class="menu"><p>#{msg.menu_editorial}</p>
						<ul class="menu">
							<li class="submenu"><h:commandLink action="altaEditorial" redirect="true">#{msg.menu_nueva_editorial}</h:commandLink></li>
							<li class="submenu"><h:commandLink
									action="consultaEditorial" redirect="true">#{msg.menu_consultar_editorial}</h:commandLink></li>



						</ul></li>
				</ul>


			</h:form> </aside>
			<section>

			<div id="gen">
				<h:form id="form_insertarEditorial">
					<p>
						<h:outputLabel value="#{msg.editorial_nif}"></h:outputLabel>
						<h:inputText id="nif" value="#{libreriaBean.editorial.nif}"
							required="true">
						</h:inputText>
						<h:message for="nif"></h:message>
					</p>
					<p>
						<h:outputLabel value="#{msg.editorial_nombre}"></h:outputLabel>
						<h:inputText id="nombre" value="#{libreriaBean.editorial.nombre}">
						</h:inputText>

					</p>
					<p>
						<h:outputLabel value="#{msg.dir_calle}"></h:outputLabel>
						<h:inputText id="calle"
							value="#{libreriaBean.editorial.direccion.calle}">
						</h:inputText>

					</p>
					<p>
						<h:outputLabel value="#{msg.dir_numero}"></h:outputLabel>
						<h:inputText id="numero"
							value="#{libreriaBean.editorial.direccion.numero}">
							<f:convertNumber integerOnly="true" type="number" />
						</h:inputText>

					</p>
					<p>
						<h:outputLabel value="#{msg.dir_poblacion}"></h:outputLabel>
						<h:inputText id="poblacion"
							value="#{libreriaBean.editorial.direccion.poblacion}">
						</h:inputText>

					</p>


					<p>
						<h:outputLabel value="#{msg.dir_provincia}"></h:outputLabel>
						<h:inputText id="provincia"
							value="#{libreriaBean.editorial.direccion.provincia}">
						</h:inputText>

					</p>
					<p>
						<h:outputLabel value="#{msg.dir_cp}"></h:outputLabel>
						<h:inputText id="cp"
							value="#{libreriaBean.editorial.direccion.cp}">
							<f:convertNumber integerOnly="true" type="number" />
						</h:inputText>

					</p>
					<h:commandButton value="#{msg.alta_boton}"
						action="#{libreriaBean.altaEditorial()}">
						<f:ajax execute="nif numero cp" render="form_insertarEditorial"></f:ajax>
					</h:commandButton>
				</h:form>

			</div>
			</section>


			<footer>
			<p>Aitor Pe√±a Anton &copy;</p>
			</footer>
		</div>
	</body>
</f:view>
</html>
